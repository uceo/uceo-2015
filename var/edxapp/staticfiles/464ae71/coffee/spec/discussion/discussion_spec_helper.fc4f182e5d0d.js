// Generated by CoffeeScript 1.6.1
(function() {

  this.DiscussionSpecHelper = (function() {

    function DiscussionSpecHelper() {}

    DiscussionSpecHelper.setUpGlobals = function() {
      DiscussionUtil.loadRoles({
        "Moderator": [],
        "Administrator": [],
        "Community TA": []
      });
      window.$$course_id = "edX/999/test";
      window.user = new DiscussionUser({
        username: "test_user",
        id: "567",
        upvoted_ids: []
      });
      return DiscussionUtil.setUser(window.user);
    };

    DiscussionSpecHelper.makeTA = function() {
      return DiscussionUtil.roleIds["Community TA"].push(parseInt(DiscussionUtil.getUser().id));
    };

    DiscussionSpecHelper.makeModerator = function() {
      return DiscussionUtil.roleIds["Moderator"].push(parseInt(DiscussionUtil.getUser().id));
    };

    DiscussionSpecHelper.makeAjaxSpy = function(fakeAjax) {
      return spyOn($, "ajax").andCallFake(function(params) {
        fakeAjax(params);
        return {
          always: function() {}
        };
      });
    };

    DiscussionSpecHelper.makeEventSpy = function() {
      return jasmine.createSpyObj('event', ['preventDefault', 'target']);
    };

    DiscussionSpecHelper.makeCourseSettings = function(is_cohorted) {
      if (is_cohorted == null) {
        is_cohorted = true;
      }
      return new DiscussionCourseSettings({
        category_map: {
          children: ['Test Topic', 'Other Topic'],
          entries: {
            'Test Topic': {
              is_cohorted: is_cohorted,
              id: 'test_topic'
            },
            'Other Topic': {
              is_cohorted: is_cohorted,
              id: 'other_topic'
            }
          }
        },
        is_cohorted: is_cohorted
      });
    };

    DiscussionSpecHelper.setUnderscoreFixtures = function() {
      var templateFixture, templateName, _i, _len, _ref;
      _ref = ['thread-show'];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        templateName = _ref[_i];
        templateFixture = readFixtures('templates/discussion/' + templateName + '.underscore');
        appendSetFixtures($('<script>', {
          id: templateName + '-template',
          type: 'text/template'
        }).text(templateFixture));
      }
      return appendSetFixtures("<div id=\"fixture-element\"></div>\n\n<!--\nNOTE the html markup here comes from rendering lms/templates/discussion/_underscore_templates.html through a\nbrowser and pasting the output.  When that file changes, this one should be regenerated alongside it.\n-->\n<script aria-hidden=\"true\" type=\"text/template\" id=\"thread-template\">\n    <article class=\"discussion-article\" data-id=\"<%- id %>\">\n        <div class=\"thread-wrapper\">\n            <div class=\"forum-thread-main-wrapper\">\n                <div class=\"thread-content-wrapper\"></div>\n                <div class=\"post-extended-content\">\n                    <ol class=\"responses js-marked-answer-list\"></ol>\n                </div>\n            </div>\n            <div class=\"post-extended-content\">\n                <div class=\"response-count\"/>\n                <div class=\"add-response\">\n                    <button class=\"button add-response-btn\">\n                        <i class=\"icon fa fa-reply\"></i>\n                        <span class=\"add-response-btn-text\">Add A Response</span>\n                    </button>\n                </div>\n                <ol class=\"responses js-response-list\"/>\n                <div class=\"response-pagination\"/>\n                <div class=\"post-status-closed bottom-post-status\" style=\"display: none\">\n                  This thread is closed.\n                </div>\n                <form class=\"discussion-reply-new\" data-id=\"<%- id %>\">\n                    <h4>Post a response:</h4>\n                    <ul class=\"discussion-errors\"></ul>\n                    <div class=\"reply-body\" data-id=\"<%- id %>\"></div>\n                    <div class=\"reply-post-control\">\n                        <a class=\"discussion-submit-post control-button\" href=\"#\">Submit</a>\n                    </div>\n                </form>\n            </div>\n        </div>\n        <div class=\"post-tools\">\n            <a href=\"javascript:void(0)\" class=\"forum-thread-expand\"><span class=\"icon fa fa-plus\"/> Expand discussion</a>\n            <a href=\"javascript:void(0)\" class=\"forum-thread-collapse\"><span class=\"icon fa fa-minus\"/> Collapse discussion</a>\n        </div>\n    </article>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"thread-edit-template\">\n    <h1>Editing post</h1>\n    <ul class=\"edit-post-form-errors\"></ul>\n    <div class=\"forum-edit-post-form-wrapper\"></div>\n    <div class=\"form-row\">\n      <label class=\"sr\" for=\"edit-post-title\">Edit post title</label>\n      <input type=\"text\" id=\"edit-post-title\" class=\"edit-post-title\" name=\"title\" value=\"<%-title %>\" placeholder=\"Title\">\n    </div>\n    <div class=\"form-row\">\n      <div class=\"edit-post-body\" name=\"body\"><%- body %></div>\n    </div>\n    <input type=\"submit\" id=\"edit-post-submit\" class=\"post-update\" value=\"Update post\">\n    <a href=\"#\" class=\"post-cancel\">Cancel</a>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"thread-response-template\">\n    <div class=\"discussion-response\"></div>\n    <a href=\"#\" class=\"action-show-comments\">\n        <%- interpolate('Show Comments (%(num_comments)s)', {num_comments: comments.length}, true) %>\n        <i class=\"icon fa fa-caret-down\"></i>\n    </a>\n    <ol class=\"comments\">\n        <li class=\"new-comment\">\n            <form class=\"comment-form\" data-id=\"<%- wmdId %>\">\n                <ul class=\"discussion-errors\"></ul>\n                <label class=\"sr\" for=\"add-new-comment\">Add a comment</label>\n                <div class=\"comment-body\" id=\"add-new-comment\" data-id=\"<%- wmdId %>\"\n                data-placeholder=\"Add a comment...\"></div>\n                <div class=\"comment-post-control\">\n                    <a class=\"discussion-submit-comment control-button\" href=\"#\">Submit</a>\n                </div>\n            </form>\n        </li>\n    </ol>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"thread-response-show-template\">\n    <header>\n      <div class=\"response-header-content\">\n        <%= author_display %>\n        <p class=\"posted-details\">\n            <span class=\"timeago\" title=\"<%= created_at %>\"><%= created_at %></span>\n\n              <% if (obj.endorsement) { %> - <%=\n                interpolate(\n                    thread.get(\"thread_type\") == \"question\" ?\n                      (endorsement.username ? \"marked as answer %(time_ago)s by %(user)s\" : \"marked as answer %(time_ago)s\") :\n                      (endorsement.username ? \"endorsed %(time_ago)s by %(user)s\" : \"endorsed %(time_ago)s\"),\n                    {\n                        'time_ago': '<span class=\"timeago\" title=\"' + endorsement.time + '\">' + endorsement.time + '</span>',\n                        'user': endorser_display\n                    },\n                    true\n                )%><% } %>\n          </p>\n          <div class=\"post-labels\">\n              <span class=\"post-label-reported\"><i class=\"icon fa fa-flag\"></i>Reported</span>\n          </div>\n          </div>\n          <div class=\"response-header-actions\">\n            <%=\n                _.template(\n                    $('#forum-actions').html(),\n                    {\n                        contentId: cid,\n                        contentType: 'response',\n                        primaryActions: ['vote', thread.get('thread_type') == 'question' ? 'answer' : 'endorse'],\n                        secondaryActions: ['edit', 'delete', 'report']\n                    }\n                )\n            %>\n          </div>\n    </header>\n\n    <div class=\"response-body\"><%- body %></div>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"thread-response-edit-template\">\n  <div class=\"edit-post-form\">\n    <h1>Editing response</h1>\n    <ul class=\"edit-post-form-errors\"></ul>\n    <div class=\"form-row\">\n      <div class=\"edit-post-body\" name=\"body\" data-id=\"<%- id %>\"><%- body %></div>\n    </div>\n    <input type=\"submit\" id=\"edit-response-submit\"class=\"post-update\" value=\"Update response\">\n    <a href=\"#\" class=\"post-cancel\">Cancel</a>\n  </div>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"response-comment-show-template\">\n  <div id=\"comment_<%- id %>\">\n    <div class=\"response-body\"><%- body %></div>\n    <%=\n        _.template(\n            $('#forum-actions').html(),\n            {\n                contentId: cid,\n                contentType: 'comment',\n                primaryActions: [],\n                secondaryActions: ['edit', 'delete', 'report']\n            }\n        )\n    %>\n\n    <p class=\"posted-details\">\n    <%=\n      interpolate(\n        'posted %(time_ago)s by %(author)s',\n        {'time_ago': '<span class=\"timeago\" title=\"' + created_at + '\">' + created_at + '</span>', 'author': author_display},\n        true\n      )%>\n    </p>\n    <div class=\"post-labels\">\n      <span class=\"post-label-reported\"><i class=\"icon fa fa-flag\"></i>Reported</span>\n    </div>\n  </div>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"response-comment-edit-template\">\n  <div class=\"edit-post-form\" id=\"comment_<%- id %>\">\n    <h1>Editing comment</h1>\n    <ul class=\"edit-comment-form-errors\"></ul>\n    <div class=\"form-row\">\n      <div class=\"edit-comment-body\" name=\"body\" data-id=\"<%- id %>\"><%- body %></div>\n    </div>\n    <input type=\"submit\" id=\"edit-comment-submit\" class=\"post-update\" value=\"Update comment\">\n    <a href=\"#\" class=\"post-cancel\">Cancel</a>\n  </div>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"thread-list-item-template\">\n  <li data-id=\"<%- id %>\" class=\"forum-nav-thread<% if (typeof(read) != \"undefined\" && !read) { %> is-unread<% } %>\">\n    <a href=\"#\" class=\"forum-nav-thread-link\">\n      <div class=\"forum-nav-thread-wrapper-0\">\n        <%\n        var icon_class, sr_text;\n        if (thread_type == \"discussion\") {\n            icon_class = \"fa-comments\";\n            sr_text = \"discussion\";\n        } else if (endorsed) {\n            icon_class = \"fa-check\";\n            sr_text = \"answered question\";\n        } else {\n            icon_class = \"fa-question\";\n            sr_text = \"unanswered question\";\n        }\n        %>\n        <span class=\"sr\"><%= sr_text %></span>\n        <i class=\"icon fa <%= icon_class %>\"></i>\n      </div><div class=\"forum-nav-thread-wrapper-1\">\n        <span class=\"forum-nav-thread-title\"><%- title %></span>\n\n        <%\n        var labels = \"\";\n        if (pinned) {\n            labels += '<li class=\"post-label-pinned\"><i class=\"icon fa fa-thumb-tack\"></i>Pinned</li> ';\n        }\n        if (typeof(subscribed) != \"undefined\" && subscribed) {\n            labels += '<li class=\"post-label-following\"><i class=\"icon fa fa-star\"></i>Following</li> ';\n        }\n        if (staff_authored) {\n            labels += '<li class=\"post-label-by-staff\"><i class=\"icon fa fa-user\"></i>By: Staff</li> ';\n        }\n        if (community_ta_authored) {\n            labels += '<li class=\"post-label-by-community-ta\"><i class=\"icon fa fa-user\"></i>By: Community TA</li> ';\n        }\n        if (labels != \"\") {\n            print('<ul class=\"forum-nav-thread-labels\">' + labels + '</ul>');\n        }\n        %>\n      </div><div class=\"forum-nav-thread-wrapper-2\">\n\n        <span class=\"forum-nav-thread-votes-count\">+<%=\n            interpolate(\n                '%(votes_up_count)s%(span_sr_open)s votes %(span_close)s',\n                {'span_sr_open': '<span class=\"sr\">', 'span_close': '</span>', 'votes_up_count': votes['up_count']},\n                true\n                )\n        %></span>\n\n        <span class=\"forum-nav-thread-comments-count <% if (unread_comments_count > 0) { %>is-unread<% } %>\">\n            <%\n        var fmt;\n        // Counts in data do not include the post itself, but the UI should\n        var data = {\n            'span_sr_open': '<span class=\"sr\">',\n            'span_close': '</span>',\n            'unread_comments_count': unread_comments_count + (read ? 0 : 1),\n            'comments_count': comments_count + 1\n            };\n        if (unread_comments_count > 0) {\n            fmt = '%(comments_count)s %(span_sr_open)scomments (%(unread_comments_count)s unread comments)%(span_close)s';\n        } else {\n            fmt = '%(comments_count)s %(span_sr_open)scomments %(span_close)s';\n        }\n        print(interpolate(fmt, data, true));\n        %>\n        </span>\n      </div>\n    </a>\n  </li>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"discussion-home\">\n  <div class=\"discussion-article blank-slate\">\n    <section class=\"home-header\">\n      <span class=\"label\">DISCUSSION HOME:</span>\n        <h1 class=\"home-title\">Cohort Course</h1>\n    </section>\n\n     </div>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"search-alert-template\">\n    <div class=\"search-alert\" id=\"search-alert-<%- cid %>\">\n        <div class=\"search-alert-content\">\n          <p class=\"message\"><%= message %></p>\n        </div>\n\n        <div class=\"search-alert-controls\">\n          <a href=\"#\" class=\"dismiss control control-dismiss\"><i class=\"icon fa fa-remove\"></i></a>\n        </div>\n    </div>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"new-post-template\">\n    <form class=\"forum-new-post-form\">\n        <ul class=\"post-errors\" style=\"display: none\"></ul>\n        <div class=\"forum-new-post-form-wrapper\"></div>\n        <% if (cohort_options) { %>\n        <div class=\"post-field\">\n            <label class=\"field-label\">\n                <span class=\"field-label-text\">\n                    Visible To:\n                </span><select class=\"field-input js-group-select\" name=\"group_id\" <% if (!is_commentable_cohorted) { %>disabled<% } %>>\n                    <option value=\"\">All Groups</option>\n                    <% _.each(cohort_options, function(opt) { %>\n                    <option value=\"<%= opt.value %>\" <% if (opt.selected) { %>selected<% } %>><%- opt.text %></option>\n                    <% }); %>\n                 </select>\n            </label><div class=\"field-help\">\n                Discussion admins, moderators, and TAs can make their posts visible to all students or specify a single cohort.\n            </div>\n        </div>\n        <% } %>\n        <div class=\"post-field\">\n            <label class=\"field-label\">\n                <span class=\"sr\">Title:</span>\n                <input type=\"text\" class=\"field-input js-post-title\" name=\"title\" placeholder=\"Title\">\n            </label><span class=\"field-help\">\n                Add a clear and descriptive title to encourage participation.\n            </span>\n        </div>\n        <div class=\"post-field js-post-body editor\" name=\"body\" data-placeholder=\"Enter your question or comment\"></div>\n        <div class=\"post-options\">\n            <label class=\"post-option is-enabled\">\n                <input type=\"checkbox\" name=\"follow\" class=\"post-option-input js-follow\" checked>\n                <i class=\"icon fa fa-star\"></i>follow this post\n            </label>\n            <% if (allow_anonymous) { %>\n            <label class=\"post-option\">\n                <input type=\"checkbox\" name=\"anonymous\" class=\"post-option-input js-anon\">\n                post anonymously\n            </label>\n            <% } %>\n            <% if (allow_anonymous_to_peers) { %>\n            <label class=\"post-option\">\n                <input type=\"checkbox\" name=\"anonymous_to_peers\" class=\"post-option-input js-anon-peers\">\n                post anonymously to classmates\n            </label>\n            <% } %>\n        </div>\n        <div>\n            <input type=\"submit\" class=\"submit\" value=\"Add Post\">\n            <a href=\"#\" class=\"cancel\">Cancel</a>\n        </div>\n    </form>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"thread-type-template\">\n    <div class=\"post-field\">\n        <div class=\"field-label\">\n            <span class=\"field-label-text\">\n                \"Post type:\"\n            </span><fieldset class=\"field-input\">\n                <input type=\"radio\" name=\"<%= form_id %>-post-type\" class=\"post-type-input\" id=\"<%= form_id %>-post-type-question\" value=\"question\" checked>\n                <label for=\"<%= form_id %>-post-type-question\" class=\"post-type-label\">\n                    <i class=\"icon fa fa-question\"></i>\n                    \"Question\"\n                </label>\n                <input type=\"radio\" name=\"<%= form_id %>-post-type\" class=\"post-type-input\" id=\"<%= form_id %>-post-type-discussion\" value=\"discussion\">\n                <label for=\"<%= form_id %>-post-type-discussion\" class=\"post-type-label\">\n                    <i class=\"icon fa fa-comments\"></i>\n                    \"Discussion\"\n                </label>\n            </fieldset>\n        </div><span class=\"field-help\">\n            \"Questions raise issues that need answers. Discussions share ideas and start conversations.\"\n        </span>\n    </div>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"new-post-menu-entry-template\">\n    <li role=\"menuitem\" class=\"topic-menu-item\">\n        <a href=\"#\" class=\"topic-title\" data-discussion-id=\"<%- id %>\" data-cohorted=\"<%- is_cohorted %>\"><%- text %></a>\n    </li>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"new-post-menu-category-template\">\n    <li role=\"menuitem\" class=\"topic-menu-item\">\n        <span class=\"topic-title\"><%- text %></span>\n        <ul role=\"menu\" class=\"topic-submenu\"><%= entries %></ul>\n    </li>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"topic-template\">\n    <div class=\"field-label\">\n        <span class=\"field-label-text\">Topic Area:</span><div class=\"field-input post-topic\">\n            <a href=\"#\" class=\"post-topic-button\">\n                <span class=\"sr\">Discussion topics; current selection is: </span>\n                <span class=\"js-selected-topic\"></span>\n                <span class=\"drop-arrow\" aria-hidden=\"true\">â–¾</span>\n            </a>\n            <div class=\"topic-menu-wrapper\">\n                <label class=\"topic-filter-label\">\n                    <span class=\"sr\">Filter topics</span>\n                    <input type=\"text\" class=\"topic-filter-input\" placeholder=\"Filter topics\">\n                </label>\n                <ul class=\"topic-menu\" role=\"menu\"><%= topics_html %></ul>\n           </div>\n       </div>\n    </div><span class=\"field-help\">\n        Add your post to a relevant topic to help others find it.\n    </span>\n</script>\n\n\n\n\n    <script type=\"text/template\" id=\"forum-action-endorse\">\n        <li class=\"actions-item\">\n            <a href=\"javascript:void(0)\" class=\"action-button action-endorse\" role=\"checkbox\" aria-checked=\"false\">\n                <span class=\"sr\">Endorse</span>\n                <span class=\"action-label\" aria-hidden=\"true\">\n                    <span class=\"label-unchecked\">Endorse</span>\n                    <span class=\"label-checked\">Unendorse</span>\n                </span>\n                <span class=\"action-icon\"><i class=\"icon fa fa-check\"></i></span>\n            </a>\n        </li>\n    </script>\n\n\n    <script type=\"text/template\" id=\"forum-action-answer\">\n        <li class=\"actions-item\">\n            <a href=\"javascript:void(0)\" class=\"action-button action-answer\" role=\"checkbox\" aria-checked=\"false\">\n                <span class=\"sr\">Mark as Answer</span>\n                <span class=\"action-label\" aria-hidden=\"true\">\n                    <span class=\"label-unchecked\">Mark as Answer</span>\n                    <span class=\"label-checked\">Unmark as Answer</span>\n                </span>\n                <span class=\"action-icon\"><i class=\"icon fa fa-check\"></i></span>\n            </a>\n        </li>\n    </script>\n\n\n    <script type=\"text/template\" id=\"forum-action-follow\">\n        <li class=\"actions-item\">\n            <a href=\"javascript:void(0)\" class=\"action-button action-follow\" role=\"checkbox\" aria-checked=\"false\">\n                <span class=\"sr\">Follow</span>\n                <span class=\"action-label\" aria-hidden=\"true\">\n                    <span class=\"label-unchecked\">Follow</span>\n                    <span class=\"label-checked\">Unfollow</span>\n                </span>\n                <span class=\"action-icon\"><i class=\"icon fa fa-star\"></i></span>\n            </a>\n        </li>\n    </script>\n\n\n<script type=\"text/template\" id=\"forum-action-vote\">\n    <li class=\"actions-item\">\n        <span aria-hidden=\"true\" class=\"display-vote\" style=\"display: none;\">\n          <span class=\"vote-count\"></span>\n        </span>\n        <a href=\"#\" class=\"action-button action-vote\" role=\"checkbox\" aria-checked=\"false\">\n            <span class=\"sr\">Vote</span>\n            <span class=\"sr js-sr-vote-count\"></span>\n\n            <span class=\"action-label\" aria-hidden=\"true\">\n              <span class=\"vote-count\"></span>\n            </span>\n\n            <span class=\"action-icon\" aria-hidden=\"true\">\n                <i class=\"icon fa fa-plus\"></i>\n            </span>\n        </a>\n    </li>\n</script>\n\n\n\n\n    <script type=\"text/template\" id=\"forum-action-report\">\n        <li class=\"actions-item\">\n            <a href=\"javascript:void(0)\" class=\"action-list-item action-report\" role=\"checkbox\" aria-checked=\"false\">\n                <span class=\"sr\">Report abuse</span>\n                <span class=\"action-label\" aria-hidden=\"true\">\n                    <span class=\"label-unchecked\">Report</span>\n                    <span class=\"label-checked\">Unreport</span>\n                </span>\n                <span class=\"action-icon\">\n                  <i class=\"icon fa fa-flag\"></i>\n                </span>\n            </a>\n        </li>\n    </script>\n\n\n    <script type=\"text/template\" id=\"forum-action-pin\">\n        <li class=\"actions-item\">\n            <a href=\"javascript:void(0)\" class=\"action-list-item action-pin\" role=\"checkbox\" aria-checked=\"false\">\n                <span class=\"sr\">Pin</span>\n                <span class=\"action-label\" aria-hidden=\"true\">\n                    <span class=\"label-unchecked\">Pin</span>\n                    <span class=\"label-checked\">Unpin</span>\n                </span>\n                <span class=\"action-icon\">\n                  <i class=\"icon fa fa-thumb-tack\"></i>\n                </span>\n            </a>\n        </li>\n    </script>\n\n\n    <script type=\"text/template\" id=\"forum-action-close\">\n        <li class=\"actions-item\">\n            <a href=\"javascript:void(0)\" class=\"action-list-item action-close\" role=\"checkbox\" aria-checked=\"false\">\n                <span class=\"sr\">Close</span>\n                <span class=\"action-label\" aria-hidden=\"true\">\n                    <span class=\"label-unchecked\">Close</span>\n                    <span class=\"label-checked\">Open</span>\n                </span>\n                <span class=\"action-icon\">\n                  <i class=\"icon fa fa-lock\"></i>\n                </span>\n            </a>\n        </li>\n    </script>\n\n\n\n\n\n    <script type=\"text/template\" id=\"forum-action-edit\">\n        <li class=\"actions-item\">\n            <a href=\"javascript:void(0)\" class=\"action-list-item action-edit\" role=\"button\">\n                <span class=\"action-label\">Edit</span>\n                <span class=\"action-icon\"><i class=\"icon fa fa-pencil-square-o\"></i></span>\n            </a>\n        </li>\n    </script>\n\n\n    <script type=\"text/template\" id=\"forum-action-delete\">\n        <li class=\"actions-item\">\n            <a href=\"javascript:void(0)\" class=\"action-list-item action-delete\" role=\"button\">\n                <span class=\"action-label\">Delete</span>\n                <span class=\"action-icon\"><i class=\"icon fa fa-remove\"></i></span>\n            </a>\n        </li>\n    </script>\n\n\n<script type=\"text/template\" id=\"forum-actions\">\n    <ul class=\"<%= contentType %>-actions-list\">\n        <% _.each(primaryActions, function(action) { print(_.template($('#forum-action-' + action).html(), {})) }) %>\n        <li class=\"actions-item is-visible\">\n            <div class=\"more-wrapper\">\n                <a href=\"javascript:void(0)\" class=\"action-button action-more\" role=\"button\" aria-haspopup=\"true\" aria-controls=\"action-menu-<%= contentId %>\">\n                    <span class=\"action-label\">More</span>\n                    <span class=\"action-icon\"><i class=\"icon fa fa-ellipsis-h\"></i></span>\n                </a>\n                <div class=\"actions-dropdown\" id=\"action-menu-<%= contentType %>\" aria-expanded=\"false\">\n                  <ul class=\"actions-dropdown-list\">\n                    <% _.each(secondaryActions, function(action) { print(_.template($('#forum-action-' + action).html(), {})) }) %>\n                  </ul>\n                </div>\n            </div>\n        </li>\n    </ul>\n</script>\n\n<script aria-hidden=\"true\" type=\"text/template\" id=\"post-user-display-template\">\n    <% if (username) { %>\n    <a href=\"<%- user_url %>\" class=\"username\"><%- username %></a>\n        <% if (is_community_ta) { %>\n        <span class=\"user-label-community-ta\">Community TA</span>\n        <% } else if (is_staff) { %>\n        <span class=\"user-label-staff\">Staff</span>\n        <% } %>\n    <% } else { %>\n    anonymous\n    <% } %>\n</script>");
    };

    return DiscussionSpecHelper;

  })();

}).call(this);
